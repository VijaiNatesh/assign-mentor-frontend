{"ast":null,"code":"import _toConsumableArray from\"D:\\\\React\\\\MentorStudent\\\\frontend\\\\assign-mentor-frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\toConsumableArray.js\";import _slicedToArray from\"D:\\\\React\\\\MentorStudent\\\\frontend\\\\assign-mentor-frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React,{useState,useEffect}from'react';import{useDispatch,useSelector}from\"react-redux\";import{fetchStudents}from\"../../redux/action/student/studentAction.js\";import{fetchMentors}from'../../redux/action/mentor/mentorAction.js';import{createStudentstomentor}from'../../redux/action/studentstomentor/studentstomentorAction.js';import styles from'../../myStyles.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Studentstomentor(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),studentsAssigned=_useState2[0],setStudentsAssigned=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),mentorAssigned=_useState4[0],setMentorAssigned=_useState4[1];var dispatch=useDispatch();useEffect(function(){dispatch(fetchStudents());},[dispatch]);useEffect(function(){dispatch(fetchMentors());},[dispatch]);var studentsList=useSelector(function(state){return state.student;});var students=studentsList.students;console.log(students);var stu=students&&students.filter(function(student){return!student.mentor?student:null;});var mentorsList=useSelector(function(state){return state.mentor;});var mentors=mentorsList.mentors;console.log(mentors);var checkboxHandler=function checkboxHandler(e){setStudentsAssigned(function(prev){if(e.target.checked===true){if(!studentsAssigned.includes(e.target.value)){return[].concat(_toConsumableArray(prev),[e.target.value]);}}});};var submitHandler=function submitHandler(){console.log(mentorAssigned,studentsAssigned);var assignData={mentorId:mentorAssigned,students:studentsAssigned};dispatch(createStudentstomentor(assignData));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.stumen,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Select Mentor\"}),/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(e){return setMentorAssigned(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{children:\"Select Mentor \"}),mentors&&mentors.map(function(mentor){return/*#__PURE__*/_jsx(\"option\",{value:mentor&&mentor._id,children:mentor.name},mentor._id);})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.stumen,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Select Students\"}),stu&&stu.map(function(stu){return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",value:stu&&stu._id,onChange:function onChange(e){return checkboxHandler(e);}}),stu.name]},stu._id);})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.stumen,children:/*#__PURE__*/_jsx(\"button\",{onClick:submitHandler,children:\"Submit\"})})]});}export default Studentstomentor;","map":{"version":3,"sources":["D:/React/MentorStudent/frontend/assign-mentor-frontend/src/component/studentstomentor/Studentstomentor.js"],"names":["React","useState","useEffect","useDispatch","useSelector","fetchStudents","fetchMentors","createStudentstomentor","styles","Studentstomentor","studentsAssigned","setStudentsAssigned","mentorAssigned","setMentorAssigned","dispatch","studentsList","state","student","students","console","log","stu","filter","mentor","mentorsList","mentors","checkboxHandler","e","prev","target","checked","includes","value","submitHandler","assignData","mentorId","stumen","map","_id","name"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { fetchStudents } from \"../../redux/action/student/studentAction.js\"\r\nimport { fetchMentors } from '../../redux/action/mentor/mentorAction.js';\r\nimport { createStudentstomentor } from '../../redux/action/studentstomentor/studentstomentorAction.js';\r\nimport styles from '../../myStyles.module.css'\r\n\r\nfunction Studentstomentor() {\r\n    const [studentsAssigned, setStudentsAssigned] = useState([])\r\n    const [mentorAssigned, setMentorAssigned] = useState()\r\n\r\n    const dispatch = useDispatch()\r\n    useEffect(() => {\r\n        dispatch(fetchStudents())\r\n    }, [dispatch])\r\n\r\n    useEffect(() => {\r\n        dispatch(fetchMentors())\r\n    }, [dispatch])\r\n\r\n    const studentsList = useSelector(state => state.student)\r\n    const { students } = studentsList\r\n    console.log(students)\r\n    const stu = students && students.filter(student => !student.mentor ? student : null)\r\n\r\n    const mentorsList = useSelector(state => state.mentor)\r\n    const { mentors } = mentorsList\r\n    console.log(mentors)\r\n\r\n    const checkboxHandler = (e) => {\r\n        setStudentsAssigned((prev) => {\r\n            if (e.target.checked === true) {\r\n                if (!studentsAssigned.includes(e.target.value)) {\r\n                    return [...prev, e.target.value];\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    const submitHandler = () => {\r\n        console.log(mentorAssigned, studentsAssigned)\r\n        const assignData = {\r\n            mentorId: mentorAssigned,\r\n            students: studentsAssigned\r\n        }\r\n        dispatch(createStudentstomentor(assignData))\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={styles.stumen}>\r\n                <label>Select Mentor</label>\r\n                <select onChange={(e) => setMentorAssigned(e.target.value)}>\r\n                    <option>Select Mentor </option>\r\n                    {mentors && mentors.map(mentor => {\r\n                        return (\r\n                            <option value={mentor && mentor._id} key={mentor._id}>\r\n                                {mentor.name}\r\n                            </option>\r\n                        )\r\n                    })}\r\n                </select>\r\n            </div>\r\n\r\n            <div className={styles.stumen}>\r\n                <label>Select Students</label>\r\n                {stu && stu.map(stu => {\r\n                    return (\r\n                        <li key={stu._id}>\r\n                            <input\r\n                                type=\"checkbox\"\r\n                                value={stu && stu._id}\r\n                                onChange={(e) => checkboxHandler(e)}\r\n                            />\r\n                            {stu.name}\r\n                        </li>\r\n                    )\r\n                })}\r\n            </div>\r\n            <div className={styles.stumen}>\r\n                <button onClick={submitHandler}>Submit</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Studentstomentor\r\n"]},"metadata":{},"sourceType":"module"}